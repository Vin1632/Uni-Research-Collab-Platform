{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate}from\"react-router-dom\";import{FaBars,FaEnvelope,FaBell}from\"react-icons/fa\";import logo from'../images/logo.jpg';import{useUserAuth}from\"../context/UserAuthContext\";import{get_Users}from\"../services/login_service\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Header=_ref=>{let{onUser_IdLoaded}=_ref;const navigate=useNavigate();const[showMenu,setShowMenu]=useState(false);const{logOut,user}=useUserAuth();const[Role,setRole]=useState(\"\");const handleLogout=async()=>{try{await logOut();navigate(\"/\");}catch(error){console.error(\"Logout failed:\",error);}};useEffect(()=>{const fetchUserRole=async()=>{try{const result=await get_Users(user.email);setRole(result[0].role);if(onUser_IdLoaded){onUser_IdLoaded(result[0].user_id);}}catch(error){console.error(\"Failed to get User_Role\",error);}};if(user!==null&&user!==void 0&&user.email){fetchUserRole();}},[user,onUser_IdLoaded]);//Log/Use Role after the \"Role\" is set\nuseEffect(()=>{if(Role){console.log(\"User--Role, \",Role);}},[Role]);return/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-banner\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"menu-container\",children:[/*#__PURE__*/_jsx(FaBars,{className:\"menu-icon\",onClick:()=>setShowMenu(prev=>!prev)}),/*#__PURE__*/_jsxs(\"menu\",{className:`menu-dropdown ${showMenu?'show':''}`,children:[/*#__PURE__*/_jsx(\"li\",{onClick:()=>navigate(\"/home\"),children:\"Home\"}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>navigate(\"/profile\"),children:\"Profile\"}),/*#__PURE__*/_jsx(\"li\",{onClick:handleLogout,children:\"Log Out\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-title\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"RE:HUB Logo\",className:\"dashboard-logo\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"dashboard-title\",children:\"My Research Hub\"})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"icon-group\",children:[/*#__PURE__*/_jsx(FaEnvelope,{className:\"dashboard-icon\",title:\"Messages\"}),/*#__PURE__*/_jsx(FaBell,{className:\"dashboard-icon\",title:\"Notifications\"})]})]});};export default Header;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","FaBars","FaEnvelope","FaBell","logo","useUserAuth","get_Users","jsx","_jsx","jsxs","_jsxs","Header","_ref","onUser_IdLoaded","navigate","showMenu","setShowMenu","logOut","user","Role","setRole","handleLogout","error","console","fetchUserRole","result","email","role","user_id","log","className","children","onClick","prev","src","alt","title"],"sources":["/home/vin/Desktop/Practice/Projects/SDP PROJECT/Projects 3/Uni-Research-Collab-Platform/frontend/src/components/Header.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { FaBars, FaEnvelope, FaBell } from \"react-icons/fa\";\nimport logo from '../images/logo.jpg';\nimport { useUserAuth } from \"../context/UserAuthContext\"; \nimport {get_Users}  from \"../services/login_service\";\nconst Header = ({ onUser_IdLoaded }) => {\n  const navigate = useNavigate();\n  const [showMenu, setShowMenu] = useState(false);\n  const { logOut, user } = useUserAuth(); \n  const [Role, setRole] = useState(\"\");\n\n  const handleLogout = async () => {\n    try {\n      await logOut(); \n      navigate(\"/\");  \n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n    }\n  };\n\n  useEffect(() => {\n    const fetchUserRole = async () => {\n      try {\n        const result = await get_Users(user.email);\n        setRole(result[0].role);\n\n        if (onUser_IdLoaded) {\n          onUser_IdLoaded(result[0].user_id);\n        }\n\n      } catch (error) {\n        console.error(\"Failed to get User_Role\", error);\n      }\n    };\n  \n    if (user?.email) {\n      fetchUserRole();\n    }\n \n  }, [user, onUser_IdLoaded]);\n\n  //Log/Use Role after the \"Role\" is set\n  useEffect(() => {\n    if (Role) {\n      console.log(\"User--Role, \", Role);\n    }\n  }, [Role]);\n\n  return (\n    <header className=\"dashboard-banner\">\n      <nav className=\"menu-container\">\n        <FaBars className=\"menu-icon\" onClick={() => setShowMenu(prev => !prev)} />\n        <menu className={`menu-dropdown ${showMenu ? 'show' : ''}`}>\n          <li onClick={() => navigate(\"/home\")}>Home</li>\n          <li onClick={() => navigate(\"/profile\")}>Profile</li>\n          <li onClick={handleLogout}>Log Out</li>\n        </menu>\n      </nav>\n\n      <div className=\"logo-title\">\n        <img src={logo} alt=\"RE:HUB Logo\" className=\"dashboard-logo\" />\n        <h1 className=\"dashboard-title\">My Research Hub</h1>\n      </div>\n\n      <aside className=\"icon-group\">\n        <FaEnvelope className=\"dashboard-icon\" title=\"Messages\" />\n        <FaBell className=\"dashboard-icon\" title=\"Notifications\" />\n      </aside>\n    </header>\n  );\n};\n\nexport default Header;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}