{"ast":null,"code":"import _objectSpread from\"/home/vin/Desktop/Practice/Projects/SDP PROJECT/Projects 3/Uni-Research-Collab-Platform/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import'../styles/AddProposal.css';import{useUserAuth}from\"../context/UserAuthContext\";import{proposal_service,insert_projectData,get_image_url}from\"../services/proposal_service\";import{get_Users}from'../services/login_service';import{useNavigate}from\"react-router-dom\";import logo from'../images/logo.jpg';import{FaBars,FaEnvelope,FaBell}from\"react-icons/fa\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AddProposals=()=>{const navigate=useNavigate();const{logOut,user}=useUserAuth();const[showMenu,setShowMenu]=useState(false);const[loading,setLoading]=useState(false);const[senderEmail,setSenderEmail]=useState((user===null||user===void 0?void 0:user.email)||'');const[recipientEmail,setRecipientEmail]=useState('');const[showInviteModal,setShowInviteModal]=useState(false);//logging Out\nconst handleLogout=async()=>{try{await logOut();navigate(\"/\");}catch(error){console.error(\"Logout failed:\",error);}};const[proposal,setProposal]=useState({title:'',summary:'',requirements:'',fundingNeeded:'',fundingSource:'',completionStatus:'',image:null,start_date:'',end_date:''});const fundingSources=['Government Grant','Private Sector','University Fund','Crowdfunding'];const handleInputChange=e=>{const{name,value}=e.target;setProposal(prevState=>_objectSpread(_objectSpread({},prevState),{},{[name]:value}));};const handleImageUpload=e=>{setProposal(prevState=>_objectSpread(_objectSpread({},prevState),{},{image:e.target.files[0]}));};//Wgen submit button clicked\nconst handleSubmit=async e=>{e.preventDefault();setLoading(true);try{const email=user===null||user===void 0?void 0:user.email;const result=await get_Users(email);const user_id=result[0].user_id;const image_link=await get_image_url(proposal.image);const result_1=await proposal_service(user_id,proposal.title,proposal.summary,image_link,proposal.start_date,proposal.end_date);//When proposal successfuly inserted then projectData follows\nif(result_1[0].project_id){alert(\"Submitted Successfully!\");navigate('/home');await insert_projectData(result_1[0].project_id,proposal.title,proposal.requirements,image_link,proposal.fundingNeeded,proposal.fundingSource,proposal.start_date,proposal.end_date);}}catch(error){console.error(\"Proposal submission failed:\",error);}finally{setLoading(false);}};const handleInviteCollaborators=()=>{//alert(\"Invite Collaborators clicked!\");\nsetShowInviteModal(true);};const sendInvite=async()=>{try{const response=await fetch('/api/send-invite',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({toEmail:recipientEmail,fromUser:senderEmail,projectTitle:proposal.title})});const result=await response.json();if(response.ok){alert('Invitation sent!');}else{alert('Failed to send invite: '+result.message);}setShowInviteModal(false);setRecipientEmail('');setSenderEmail((user===null||user===void 0?void 0:user.email)||'');}catch(error){console.error('Error sending invite:',error);alert('Something went wrong.');}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"header\",{className:\"dashboard-banner\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"menu-container\",children:[/*#__PURE__*/_jsx(FaBars,{className:\"menu-icon\",onClick:()=>setShowMenu(prev=>!prev)}),/*#__PURE__*/_jsxs(\"menu\",{className:\"menu-dropdown \".concat(showMenu?'show':''),children:[/*#__PURE__*/_jsx(\"li\",{onClick:()=>navigate(\"/home\"),children:\"Home\"}),/*#__PURE__*/_jsx(\"li\",{onClick:()=>navigate(\"/profile\"),children:\"Profile\"}),/*#__PURE__*/_jsx(\"li\",{onClick:handleLogout,children:\"Log Out\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"logo-title\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"RE:HUB Logo\",className:\"dashboard-logo\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"dashboard-title\",children:\"My Research Hub\"})]}),/*#__PURE__*/_jsxs(\"aside\",{className:\"icon-group\",children:[/*#__PURE__*/_jsx(FaEnvelope,{className:\"dashboard-icon\",title:\"Messages\"}),/*#__PURE__*/_jsx(FaBell,{className:\"dashboard-icon\",title:\"Notifications\"})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"proposal-form\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Enter Proposal Details\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"Proposal Title:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",value:proposal.title,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"summary\",children:\"Short Summary:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"summary\",name:\"summary\",value:proposal.summary,onChange:handleInputChange,required:true,maxLength:350})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"requirements\",children:\"Research Requirements:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"requirements\",name:\"requirements\",value:proposal.requirements,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fundingNeeded\",children:\"Funding Needed:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"fundingNeeded\",name:\"fundingNeeded\",value:proposal.fundingNeeded,onChange:handleInputChange,required:true,min:\"0\"})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"fundingSource\",children:\"Funding Source:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"fundingSource\",name:\"fundingSource\",value:proposal.fundingSource,onChange:handleInputChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Funding Source\"}),fundingSources.map(source=>/*#__PURE__*/_jsx(\"option\",{value:source,children:source},source))]})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"completionStatus\",children:\"Project Completion Status (%):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"completionStatus\",name:\"completionStatus\",value:proposal.completionStatus,onChange:handleInputChange,required:true,min:\"0\",max:\"100\"})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{children:\"Project Timeline\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"start_date\",children:\"Start Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"start_date\",name:\"start_date\",value:proposal.start_date,onChange:handleInputChange,required:true}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"end_date\",children:\"End Date:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"end_date\",name:\"end_date\",value:proposal.end_date,onChange:handleInputChange,required:true})]}),/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"Upload Proposal Image:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"image\",name:\"image\",onChange:handleImageUpload,accept:\"image/*\"})]}),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"loading-overlay\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"spinner\",viewBox:\"0 0 50 50\",children:/*#__PURE__*/_jsx(\"circle\",{className:\"path\",cx:\"25\",cy:\"25\",r:\"20\",fill:\"none\",strokeWidth:\"5\"})})}),/*#__PURE__*/_jsxs(\"section\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit Proposal\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"invite-button\",onClick:handleInviteCollaborators,children:\"Invite Collaborators\"})]})]})]}),showInviteModal&&/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Invite a Collaborator\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Your email address\",value:senderEmail,onChange:e=>setSenderEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Collaborator's email address\",value:recipientEmail,onChange:e=>setRecipientEmail(e.target.value),required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:sendInvite,children:\"Send Invitation\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowInviteModal(false),children:\"Cancel\"})]})]})})]});};export default AddProposals;","map":{"version":3,"names":["React","useState","useUserAuth","proposal_service","insert_projectData","get_image_url","get_Users","useNavigate","logo","FaBars","FaEnvelope","FaBell","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AddProposals","navigate","logOut","user","showMenu","setShowMenu","loading","setLoading","senderEmail","setSenderEmail","email","recipientEmail","setRecipientEmail","showInviteModal","setShowInviteModal","handleLogout","error","console","proposal","setProposal","title","summary","requirements","fundingNeeded","fundingSource","completionStatus","image","start_date","end_date","fundingSources","handleInputChange","e","name","value","target","prevState","_objectSpread","handleImageUpload","files","handleSubmit","preventDefault","result","user_id","image_link","result_1","project_id","alert","handleInviteCollaborators","sendInvite","response","fetch","method","headers","body","JSON","stringify","toEmail","fromUser","projectTitle","json","ok","message","children","className","onClick","prev","concat","src","alt","onSubmit","htmlFor","type","id","onChange","required","maxLength","min","map","source","max","accept","viewBox","cx","cy","r","fill","strokeWidth","placeholder"],"sources":["/home/vin/Desktop/Practice/Projects/SDP PROJECT/Projects 3/Uni-Research-Collab-Platform/frontend/src/pages/AddProposal.js"],"sourcesContent":["import React, { useState } from 'react';\nimport '../styles/AddProposal.css';\nimport { useUserAuth } from \"../context/UserAuthContext\";\nimport { proposal_service, insert_projectData, get_image_url } from \"../services/proposal_service\";\nimport { get_Users } from '../services/login_service';\nimport { useNavigate } from \"react-router-dom\";\nimport logo from '../images/logo.jpg';\nimport { FaBars, FaEnvelope, FaBell } from \"react-icons/fa\";\n\nconst AddProposals = () => {\n  const navigate = useNavigate();\n  const {logOut,  user } = useUserAuth();\n  const [showMenu, setShowMenu] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [senderEmail, setSenderEmail] = useState(user?.email || '');\n  const [recipientEmail, setRecipientEmail] = useState('');\n  const [showInviteModal, setShowInviteModal] = useState(false);\n\n  //logging Out\n  const handleLogout = async () => {\n    try {\n      await logOut(); \n      navigate(\"/\");  \n    } catch (error) {\n      console.error(\"Logout failed:\", error);\n    }\n  };\n\n\n\n\n  const [proposal, setProposal] = useState({\n    title: '',\n    summary: '',\n    requirements: '',\n    fundingNeeded: '',\n    fundingSource: '',\n    completionStatus: '',\n    image: null,\n    start_date : '',\n    end_date : ''\n  });\n\n  const fundingSources = ['Government Grant', 'Private Sector', 'University Fund', 'Crowdfunding'];\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setProposal((prevState) => ({\n      ...prevState,\n      [name]: value,\n    }));\n  };\n\n  const handleImageUpload = (e) => {\n    setProposal((prevState) => ({\n      ...prevState,\n      image: e.target.files[0],\n    }));\n  };\n\n  //Wgen submit button clicked\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true); \n  \n    try {\n      const email = user?.email;\n      const result = await get_Users(email);\n      const user_id = result[0].user_id;\n      const image_link = await get_image_url(proposal.image);\n  \n      const result_1 = await proposal_service(\n        user_id,\n        proposal.title,\n        proposal.summary,\n        image_link,\n        proposal.start_date,\n        proposal.end_date\n      );\n      \n      //When proposal successfuly inserted then projectData follows\n      if (result_1[0].project_id) {\n        alert(\"Submitted Successfully!\");\n        navigate('/home');\n        await insert_projectData(\n          result_1[0].project_id,\n          proposal.title,\n          proposal.requirements,\n          image_link,\n          proposal.fundingNeeded,\n          proposal.fundingSource,\n          proposal.start_date,\n          proposal.end_date\n        );\n        \n      }\n    } catch (error) {\n      console.error(\"Proposal submission failed:\", error);\n    } finally {\n      setLoading(false); \n    }\n  };\n  \n\n  const handleInviteCollaborators = () => {\n    //alert(\"Invite Collaborators clicked!\");\n    setShowInviteModal(true);\n  };\n\n  const sendInvite = async () => {\n    try {\n      const response = await fetch('/api/send-invite', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          toEmail: recipientEmail,\n          fromUser: senderEmail,\n          projectTitle: proposal.title\n        }),\n      });\n  \n      const result = await response.json();\n      if (response.ok) {\n        alert('Invitation sent!');\n      } else {\n        alert('Failed to send invite: ' + result.message);\n      }\n  \n      setShowInviteModal(false);\n      setRecipientEmail('');\n      setSenderEmail(user?.email || '');\n    } catch (error) {\n      console.error('Error sending invite:', error);\n      alert('Something went wrong.');\n    }\n  };\n  \n\n  return (\n    <>\n      <header className=\"dashboard-banner\">\n        <nav className=\"menu-container\">\n          <FaBars className=\"menu-icon\" onClick={() => setShowMenu(prev => !prev)} />\n          <menu className={`menu-dropdown ${showMenu ? 'show' : ''}`}>\n            <li onClick={() => navigate(\"/home\")}>Home</li>\n            <li onClick={() => navigate(\"/profile\")}>Profile</li>\n            <li onClick={handleLogout}>Log Out</li>\n          </menu>\n        </nav>\n\n        <div className=\"logo-title\">\n          <img src={logo} alt=\"RE:HUB Logo\" className=\"dashboard-logo\" />\n          <h1 className=\"dashboard-title\">My Research Hub</h1>\n        </div>\n\n        <aside className=\"icon-group\">\n          <FaEnvelope className=\"dashboard-icon\" title=\"Messages\" />\n          <FaBell className=\"dashboard-icon\" title=\"Notifications\" />\n        </aside>\n      </header>\n\n      <section className=\"proposal-form\">\n        <h1>Enter Proposal Details</h1>\n        <form onSubmit={handleSubmit}>\n          <fieldset>\n            <label htmlFor=\"title\">Proposal Title:</label>\n            <input\n              type=\"text\"\n              id=\"title\"\n              name=\"title\"\n              value={proposal.title}\n              onChange={handleInputChange}\n              required\n            />\n          </fieldset>\n\n          <fieldset>\n            <label htmlFor=\"summary\">Short Summary:</label>\n            <textarea\n              id=\"summary\"\n              name=\"summary\"\n              value={proposal.summary}\n              onChange={handleInputChange}\n              required\n              maxLength={350}\n            />\n          </fieldset>\n\n          <fieldset>\n            <label htmlFor=\"requirements\">Research Requirements:</label>\n            <textarea\n              id=\"requirements\"\n              name=\"requirements\"\n              value={proposal.requirements}\n              onChange={handleInputChange}\n              required\n            />\n          </fieldset>\n\n          <fieldset>\n            <label htmlFor=\"fundingNeeded\">Funding Needed:</label>\n            <input\n              type=\"number\"\n              id=\"fundingNeeded\"\n              name=\"fundingNeeded\"\n              value={proposal.fundingNeeded}\n              onChange={handleInputChange}\n              required\n              min=\"0\"\n            />\n          </fieldset>\n\n          <fieldset>\n            <label htmlFor=\"fundingSource\">Funding Source:</label>\n            <select\n              id=\"fundingSource\"\n              name=\"fundingSource\"\n              value={proposal.fundingSource}\n              onChange={handleInputChange}\n              required\n            >\n              <option value=\"\">Select a Funding Source</option>\n              {fundingSources.map((source) => (\n                <option key={source} value={source}>\n                  {source}\n                </option>\n              ))}\n            </select>\n          </fieldset>\n\n          <fieldset>\n            <label htmlFor=\"completionStatus\">Project Completion Status (%):</label>\n            <input\n              type=\"number\"\n              id=\"completionStatus\"\n              name=\"completionStatus\"\n              value={proposal.completionStatus}\n              onChange={handleInputChange}\n              required\n              min=\"0\"\n              max=\"100\"\n            />\n          </fieldset>\n\n          <fieldset>\n            <legend>Project Timeline</legend>\n\n            <label htmlFor=\"start_date\">Start Date:</label>\n            <input\n              type=\"date\"\n              id=\"start_date\"\n              name=\"start_date\"\n              value={proposal.start_date}\n              onChange={handleInputChange}\n              required\n            />\n\n            <label htmlFor=\"end_date\">End Date:</label>\n            <input\n              type=\"date\"\n              id=\"end_date\"\n              name=\"end_date\"\n              value={proposal.end_date}\n              onChange={handleInputChange}\n              required\n            />\n          </fieldset>\n\n\n          <fieldset>\n            <label htmlFor=\"image\">Upload Proposal Image:</label>\n            <input\n              type=\"file\"\n              id=\"image\"\n              name=\"image\"\n              onChange={handleImageUpload}\n              accept=\"image/*\"\n            />\n          </fieldset>\n          {loading && (\n              <div className=\"loading-overlay\">\n                <svg className=\"spinner\" viewBox=\"0 0 50 50\">\n                  <circle\n                    className=\"path\"\n                    cx=\"25\"\n                    cy=\"25\"\n                    r=\"20\"\n                    fill=\"none\"\n                    strokeWidth=\"5\"\n                  />\n                </svg>\n              </div>\n            )}\n\n\n          <section className=\"button-group\">\n            <button type=\"submit\">Submit Proposal</button>\n            <button type=\"button\" className=\"invite-button\" onClick={handleInviteCollaborators}>\n              Invite Collaborators\n            </button>\n          </section>\n        </form>\n      </section>\n      \n      {showInviteModal && (\n  <div className=\"modal-overlay\">\n    <div className=\"modal\">\n      <h2>Invite a Collaborator</h2>\n      <input\n        type=\"email\"\n        placeholder=\"Your email address\"\n        value={senderEmail}\n        onChange={(e) => setSenderEmail(e.target.value)}\n        required\n      />\n      <input\n        type=\"email\"\n        placeholder=\"Collaborator's email address\"\n        value={recipientEmail}\n        onChange={(e) => setRecipientEmail(e.target.value)}\n        required\n      />\n      <div className=\"modal-buttons\">\n        <button onClick={sendInvite}>Send Invitation</button>\n        <button onClick={() => setShowInviteModal(false)}>Cancel</button>\n      </div>\n    </div>\n  </div>\n)}\n\n\n    </>\n  );\n};\n\nexport default AddProposals;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}