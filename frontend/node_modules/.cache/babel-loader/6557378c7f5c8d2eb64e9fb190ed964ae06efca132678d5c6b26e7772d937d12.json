{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"../styles/Users.css\";import{get_all_users}from\"../services/admin_service\";// Adjust the path if needed\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Users(){const[users,setUsers]=useState([]);const[search,setSearch]=useState(\"\");const[roleFilter,setRoleFilter]=useState(\"\");useEffect(()=>{const fetchUsers=async()=>{try{const data=await get_all_users();setUsers(data);}catch(err){console.error(\"Failed to load users\",err);}};fetchUsers();},[]);const filteredUsers=users.filter(user=>{var _user$name,_user$email;const matchesSearch=((_user$name=user.name)===null||_user$name===void 0?void 0:_user$name.toLowerCase().includes(search.toLowerCase()))||((_user$email=user.email)===null||_user$email===void 0?void 0:_user$email.toLowerCase().includes(search.toLowerCase()));const matchesRole=roleFilter?user.role===roleFilter:true;return matchesSearch&&matchesRole;});return/*#__PURE__*/_jsxs(\"div\",{className:\"users-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"users-controls\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by name or email\",value:search,onChange:e=>setSearch(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{value:roleFilter,onChange:e=>setRoleFilter(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Roles\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"reviewer\",children:\"Reviewer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"researcher\",children:\"Researcher\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"users-table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Institution\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qualification\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Interests\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Joined\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[filteredUsers.map((user,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:user.name||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.role||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:user.institution||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:user.qualification||\"-\"}),/*#__PURE__*/_jsx(\"td\",{className:\"interests-cell\",children:user.interests||\"-\"}),/*#__PURE__*/_jsx(\"td\",{children:new Date(user.created_at).toLocaleDateString()})]},user.user_id)),filteredUsers.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"8\",style:{textAlign:\"center\"},children:\"No users found.\"})})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","get_all_users","jsx","_jsx","jsxs","_jsxs","Users","users","setUsers","search","setSearch","roleFilter","setRoleFilter","fetchUsers","data","err","console","error","filteredUsers","filter","user","_user$name","_user$email","matchesSearch","name","toLowerCase","includes","email","matchesRole","role","className","children","type","placeholder","value","onChange","e","target","map","index","institution","qualification","interests","Date","created_at","toLocaleDateString","user_id","length","colSpan","style","textAlign"],"sources":["/home/vin/Desktop/Practice/Projects/SDP PROJECT/Projects 3/Uni-Research-Collab-Platform/frontend/src/admin_wrapper/Users.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"../styles/Users.css\";\nimport { get_all_users } from \"../services/admin_service\"; // Adjust the path if needed\n\nexport default function Users() {\n  const [users, setUsers] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [roleFilter, setRoleFilter] = useState(\"\");\n\n  useEffect(() => {\n    const fetchUsers = async () => {\n      try {\n        const data = await get_all_users();\n        setUsers(data);\n      } catch (err) {\n        console.error(\"Failed to load users\", err);\n      }\n    };\n    fetchUsers();\n  }, []);\n\n  const filteredUsers = users.filter((user) => {\n    const matchesSearch =\n      user.name?.toLowerCase().includes(search.toLowerCase()) ||\n      user.email?.toLowerCase().includes(search.toLowerCase());\n\n    const matchesRole = roleFilter ? user.role === roleFilter : true;\n    return matchesSearch && matchesRole;\n  });\n\n  return (\n    <div className=\"users-page\">\n      <div className=\"users-controls\">\n        <input\n          type=\"text\"\n          placeholder=\"Search by name or email\"\n          value={search}\n          onChange={(e) => setSearch(e.target.value)}\n        />\n        <select value={roleFilter} onChange={(e) => setRoleFilter(e.target.value)}>\n          <option value=\"\">All Roles</option>\n          <option value=\"admin\">Admin</option>\n          <option value=\"reviewer\">Reviewer</option>\n          <option value=\"researcher\">Researcher</option>\n        </select>\n      </div>\n\n      <table className=\"users-table\">\n        <thead>\n          <tr>\n            <th>#</th>\n            <th>Name</th>\n            <th>Email</th>\n            <th>Role</th>\n            <th>Institution</th>\n            <th>Qualification</th>\n            <th>Interests</th>\n            <th>Joined</th>\n          </tr>\n        </thead>\n        <tbody>\n          {filteredUsers.map((user, index) => (\n            <tr key={user.user_id}>\n              <td>{index + 1}</td>\n              <td>{user.name || \"-\"}</td>\n              <td>{user.email}</td>\n              <td>{user.role || \"-\"}</td>\n              <td>{user.institution || \"-\"}</td>\n              <td>{user.qualification || \"-\"}</td>\n              <td className=\"interests-cell\">{user.interests || \"-\"}</td>\n              <td>{new Date(user.created_at).toLocaleDateString()}</td>\n            </tr>\n          ))}\n          {filteredUsers.length === 0 && (\n            <tr>\n              <td colSpan=\"8\" style={{ textAlign: \"center\" }}>No users found.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}