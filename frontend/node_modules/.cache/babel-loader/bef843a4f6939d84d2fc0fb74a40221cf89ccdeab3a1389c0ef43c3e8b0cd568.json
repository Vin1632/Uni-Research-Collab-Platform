{"ast":null,"code":"import _objectSpread from\"C:/Users/pc/Desktop/recent/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{Form,Button,Alert}from\"react-bootstrap\";import{FaPencilAlt}from\"react-icons/fa\";// Pencil icon from react-icons\nimport\"../styles/profile.css\";// Importing profile styles\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Profile=()=>{const[form,setForm]=useState({name:\"\",institution:\"\",qualification:\"\",interests:\"\"});const[message,setMessage]=useState(null);const[editMode,setEditMode]=useState({name:false,institution:false,qualification:false,interests:false});const user=JSON.parse(localStorage.getItem(\"user\"));const email=user===null||user===void 0?void 0:user.email;useEffect(()=>{if(!email)return;fetch(\"http://localhost:5000/profile?email=\".concat(email)).then(res=>res.json()).then(data=>{setForm({name:data.name||\"\",institution:data.institution||\"\",qualification:data.qualification||\"\",interests:data.interests||\"\"});}).catch(err=>console.error(\"Failed to fetch profile:\",err));},[email]);const handleChange=e=>{setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));};const handleSubmit=e=>{e.preventDefault();fetch(\"http://localhost:5000/profile\",{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(_objectSpread(_objectSpread({},form),{},{email}))}).then(res=>res.json()).then(data=>setMessage(data.message)).catch(err=>setMessage(\"Error updating profile.\"));};const handleEdit=field=>{setEditMode(_objectSpread(_objectSpread({},editMode),{},{[field]:true}));};const handleSave=()=>{setEditMode({name:false,institution:false,qualification:false,interests:false});handleSubmit();};return/*#__PURE__*/_jsxs(\"section\",{className:\"profile-form-container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Edit Profile\"}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSave,children:[/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Full Name\",/*#__PURE__*/_jsx(FaPencilAlt,{style:{cursor:\"pointer\",marginLeft:\"10px\"},onClick:()=>handleEdit(\"name\")})]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"name\",value:form.name,onChange:handleChange,disabled:!editMode.name})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Institution\",/*#__PURE__*/_jsx(FaPencilAlt,{style:{cursor:\"pointer\",marginLeft:\"10px\"},onClick:()=>handleEdit(\"institution\")})]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"institution\",value:form.institution,onChange:handleChange,disabled:!editMode.institution})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Qualification\",/*#__PURE__*/_jsx(FaPencilAlt,{style:{cursor:\"pointer\",marginLeft:\"10px\"},onClick:()=>handleEdit(\"qualification\")})]}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",name:\"qualification\",value:form.qualification,onChange:handleChange,disabled:!editMode.qualification})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsxs(Form.Label,{children:[\"Research Interests\",/*#__PURE__*/_jsx(FaPencilAlt,{style:{cursor:\"pointer\",marginLeft:\"10px\"},onClick:()=>handleEdit(\"interests\")})]}),/*#__PURE__*/_jsx(Form.Control,{as:\"textarea\",name:\"interests\",value:form.interests,onChange:handleChange,disabled:!editMode.interests})]}),/*#__PURE__*/_jsx(Button,{className:\"mt-3\",type:\"submit\",disabled:!Object.values(editMode).includes(true),children:\"Save Changes\"}),message&&/*#__PURE__*/_jsx(Alert,{className:\"mt-3\",children:message})]})]});};export default Profile;","map":{"version":3,"names":["React","useState","useEffect","Form","Button","Alert","FaPencilAlt","jsx","_jsx","jsxs","_jsxs","Profile","form","setForm","name","institution","qualification","interests","message","setMessage","editMode","setEditMode","user","JSON","parse","localStorage","getItem","email","fetch","concat","then","res","json","data","catch","err","console","error","handleChange","e","_objectSpread","target","value","handleSubmit","preventDefault","method","headers","body","stringify","handleEdit","field","handleSave","className","children","onSubmit","Group","Label","style","cursor","marginLeft","onClick","Control","type","onChange","disabled","as","Object","values","includes"],"sources":["C:/Users/pc/Desktop/recent/frontend/src/components/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Form, Button, Alert } from \"react-bootstrap\";\r\nimport { FaPencilAlt } from \"react-icons/fa\";  // Pencil icon from react-icons\r\nimport \"../styles/profile.css\";  // Importing profile styles\r\n\r\nconst Profile = () => {\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    institution: \"\",\r\n    qualification: \"\",\r\n    interests: \"\"\r\n  });\r\n  const [message, setMessage] = useState(null);\r\n  const [editMode, setEditMode] = useState({\r\n    name: false,\r\n    institution: false,\r\n    qualification: false,\r\n    interests: false\r\n  });\r\n\r\n  const user = JSON.parse(localStorage.getItem(\"user\"));\r\n  const email = user?.email;\r\n\r\n  useEffect(() => {\r\n    if (!email) return;\r\n    fetch(`http://localhost:5000/profile?email=${email}`)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        setForm({\r\n          name: data.name || \"\",\r\n          institution: data.institution || \"\",\r\n          qualification: data.qualification || \"\",\r\n          interests: data.interests || \"\"\r\n        });\r\n      })\r\n      .catch((err) => console.error(\"Failed to fetch profile:\", err));\r\n  }, [email]);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    fetch(\"http://localhost:5000/profile\", {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ ...form, email })\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => setMessage(data.message))\r\n      .catch((err) => setMessage(\"Error updating profile.\"));\r\n  };\r\n\r\n  const handleEdit = (field) => {\r\n    setEditMode({ ...editMode, [field]: true });\r\n  };\r\n\r\n  const handleSave = () => {\r\n    setEditMode({\r\n      name: false,\r\n      institution: false,\r\n      qualification: false,\r\n      interests: false\r\n    });\r\n    handleSubmit();\r\n  };\r\n\r\n  return (\r\n    <section className=\"profile-form-container\">\r\n      <h3>Edit Profile</h3>\r\n      <Form onSubmit={handleSave}>\r\n        <Form.Group>\r\n          <Form.Label>\r\n            Full Name\r\n            <FaPencilAlt\r\n              style={{ cursor: \"pointer\", marginLeft: \"10px\" }}\r\n              onClick={() => handleEdit(\"name\")}\r\n            />\r\n          </Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={form.name}\r\n            onChange={handleChange}\r\n            disabled={!editMode.name}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label>\r\n            Institution\r\n            <FaPencilAlt\r\n              style={{ cursor: \"pointer\", marginLeft: \"10px\" }}\r\n              onClick={() => handleEdit(\"institution\")}\r\n            />\r\n          </Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"institution\"\r\n            value={form.institution}\r\n            onChange={handleChange}\r\n            disabled={!editMode.institution}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label>\r\n            Qualification\r\n            <FaPencilAlt\r\n              style={{ cursor: \"pointer\", marginLeft: \"10px\" }}\r\n              onClick={() => handleEdit(\"qualification\")}\r\n            />\r\n          </Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"qualification\"\r\n            value={form.qualification}\r\n            onChange={handleChange}\r\n            disabled={!editMode.qualification}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Form.Group>\r\n          <Form.Label>\r\n            Research Interests\r\n            <FaPencilAlt\r\n              style={{ cursor: \"pointer\", marginLeft: \"10px\" }}\r\n              onClick={() => handleEdit(\"interests\")}\r\n            />\r\n          </Form.Label>\r\n          <Form.Control\r\n            as=\"textarea\"\r\n            name=\"interests\"\r\n            value={form.interests}\r\n            onChange={handleChange}\r\n            disabled={!editMode.interests}\r\n          />\r\n        </Form.Group>\r\n\r\n        <Button className=\"mt-3\" type=\"submit\" disabled={!Object.values(editMode).includes(true)}>\r\n          Save Changes\r\n        </Button>\r\n\r\n        {message && <Alert className=\"mt-3\">{message}</Alert>}\r\n      </Form>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}