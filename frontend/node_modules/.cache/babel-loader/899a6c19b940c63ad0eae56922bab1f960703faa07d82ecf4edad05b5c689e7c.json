{"ast":null,"code":"// src/admin_wrapper/admin_service.js\n// Get all flagged projects for admin\nexport async function get_flagged_projects(){try{const response=await fetch('/admin/flagged-projects',{method:'GET',headers:{'Content-Type':'application/json'}});const text=await response.text();// Read raw text for debugging\ntry{const data=JSON.parse(text);// Try parsing as JSON\nif(!response.ok){throw new Error(data.message||'Failed to fetch flagged projects');}return data;}catch(jsonErr){console.error('Expected JSON but got:',text);throw new Error('Server did not return valid JSON');}}catch(error){console.error('Error fetching flagged projects:',error);throw error;}}// Delete (unflag) a flagged project by flag ID\nexport async function delete_flag(flag_id){try{const response=await fetch(\"/admin/flagged-projects/\".concat(flag_id),{method:'DELETE',headers:{'Content-Type':'application/json'}});const text=await response.text();try{const data=JSON.parse(text);if(!response.ok){throw new Error(data.message||'Failed to delete flag');}return data;}catch(jsonErr){console.error('Expected JSON but got:',text);throw new Error('Server did not return valid JSON');}}catch(error){console.error('Error deleting flag:',error);throw error;}}export async function delete_project(projectId){try{const response=await fetch(\"/api/admin/projects/\".concat(projectId),{method:'DELETE',headers:{'Content-Type':'application/json'}});if(!response.ok){const data=await response.json();throw new Error(data.message||'Failed to delete project');}return await response.json();}catch(error){console.error('Error deleting project:',error);throw error;}}","map":{"version":3,"names":["get_flagged_projects","response","fetch","method","headers","text","data","JSON","parse","ok","Error","message","jsonErr","console","error","delete_flag","flag_id","concat","delete_project","projectId","json"],"sources":["C:/Users/pc/Desktop/recent/frontend/src/services/admin_service.js"],"sourcesContent":["// src/admin_wrapper/admin_service.js\r\n\r\n// Get all flagged projects for admin\r\nexport async function get_flagged_projects() {\r\n    try {\r\n      const response = await fetch('/admin/flagged-projects', {\r\n        method: 'GET',\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n  \r\n      const text = await response.text(); // Read raw text for debugging\r\n      try {\r\n        const data = JSON.parse(text); // Try parsing as JSON\r\n  \r\n        if (!response.ok) {\r\n          throw new Error(data.message || 'Failed to fetch flagged projects');\r\n        }\r\n  \r\n        return data;\r\n      } catch (jsonErr) {\r\n        console.error('Expected JSON but got:', text);\r\n        throw new Error('Server did not return valid JSON');\r\n      }\r\n  \r\n    } catch (error) {\r\n      console.error('Error fetching flagged projects:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  // Delete (unflag) a flagged project by flag ID\r\n  export async function delete_flag(flag_id) {\r\n    try {\r\n      const response = await fetch(`/admin/flagged-projects/${flag_id}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' }\r\n      });\r\n  \r\n      const text = await response.text();\r\n      try {\r\n        const data = JSON.parse(text);\r\n  \r\n        if (!response.ok) {\r\n          throw new Error(data.message || 'Failed to delete flag');\r\n        }\r\n  \r\n        return data;\r\n      } catch (jsonErr) {\r\n        console.error('Expected JSON but got:', text);\r\n        throw new Error('Server did not return valid JSON');\r\n      }\r\n  \r\n    } catch (error) {\r\n      console.error('Error deleting flag:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  export async function delete_project(projectId) {\r\n    try {\r\n      const response = await fetch(`/api/admin/projects/${projectId}`, {\r\n        method: 'DELETE',\r\n        headers: { 'Content-Type': 'application/json' },\r\n      });\r\n      if (!response.ok) {\r\n        const data = await response.json();\r\n        throw new Error(data.message || 'Failed to delete project');\r\n      }\r\n      return await response.json();\r\n    } catch (error) {\r\n      console.error('Error deleting project:', error);\r\n      throw error;\r\n    }\r\n  }\r\n  \r\n  "],"mappings":"AAAA;AAEA;AACA,MAAO,eAAe,CAAAA,oBAAoBA,CAAA,CAAG,CACzC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,yBAAyB,CAAE,CACtDC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAE;AACpC,GAAI,CACF,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC,CAAE;AAE/B,GAAI,CAACJ,QAAQ,CAACQ,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAACJ,IAAI,CAACK,OAAO,EAAI,kCAAkC,CAAC,CACrE,CAEA,MAAO,CAAAL,IAAI,CACb,CAAE,MAAOM,OAAO,CAAE,CAChBC,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAET,IAAI,CAAC,CAC7C,KAAM,IAAI,CAAAK,KAAK,CAAC,kCAAkC,CAAC,CACrD,CAEF,CAAE,MAAOI,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,kCAAkC,CAAEA,KAAK,CAAC,CACxD,KAAM,CAAAA,KAAK,CACb,CACF,CAEA;AACA,MAAO,eAAe,CAAAC,WAAWA,CAACC,OAAO,CAAE,CACzC,GAAI,CACF,KAAM,CAAAf,QAAQ,CAAG,KAAM,CAAAC,KAAK,4BAAAe,MAAA,CAA4BD,OAAO,EAAI,CACjEb,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,CAEF,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAJ,QAAQ,CAACI,IAAI,CAAC,CAAC,CAClC,GAAI,CACF,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC,CAE7B,GAAI,CAACJ,QAAQ,CAACQ,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAACJ,IAAI,CAACK,OAAO,EAAI,uBAAuB,CAAC,CAC1D,CAEA,MAAO,CAAAL,IAAI,CACb,CAAE,MAAOM,OAAO,CAAE,CAChBC,OAAO,CAACC,KAAK,CAAC,wBAAwB,CAAET,IAAI,CAAC,CAC7C,KAAM,IAAI,CAAAK,KAAK,CAAC,kCAAkC,CAAC,CACrD,CAEF,CAAE,MAAOI,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5C,KAAM,CAAAA,KAAK,CACb,CACF,CACA,MAAO,eAAe,CAAAI,cAAcA,CAACC,SAAS,CAAE,CAC9C,GAAI,CACF,KAAM,CAAAlB,QAAQ,CAAG,KAAM,CAAAC,KAAK,wBAAAe,MAAA,CAAwBE,SAAS,EAAI,CAC/DhB,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAChD,CAAC,CAAC,CACF,GAAI,CAACH,QAAQ,CAACQ,EAAE,CAAE,CAChB,KAAM,CAAAH,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACmB,IAAI,CAAC,CAAC,CAClC,KAAM,IAAI,CAAAV,KAAK,CAACJ,IAAI,CAACK,OAAO,EAAI,0BAA0B,CAAC,CAC7D,CACA,MAAO,MAAM,CAAAV,QAAQ,CAACmB,IAAI,CAAC,CAAC,CAC9B,CAAE,MAAON,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/C,KAAM,CAAAA,KAAK,CACb,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}